<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.21">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Ben Akyrueklier">
<meta name="dcterms.date" content="2025-12-01">

<title>Correlation of Student Test Performance and External Factors</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2" crossorigin="anonymous"></script><script src="final_files/libs/clipboard/clipboard.min.js"></script>
<script src="final_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="final_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="final_files/libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="final_files/libs/quarto-html/popper.min.js"></script>
<script src="final_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="final_files/libs/quarto-html/anchor.min.js"></script>
<link href="final_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="final_files/libs/quarto-html/quarto-syntax-highlighting-ea1d7ac60288e0f1efdbc993fd8432ae.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="final_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="final_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="final_files/libs/bootstrap/bootstrap-d6a003b94517c951b2d65075d42fb01b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="https://cdn.jsdelivr.net/npm/requirejs@2.3.6/require.min.js" integrity="sha384-c9c+LnTbwQ3aujuU7ULEPVvgLs+Fn6fJUvIGTsuu1ZcCf11fiEubah0ttpca4ntM sha384-6V1/AdqZRWk1KAlWbKBlGhN7VG4iE/yAZcO6NZPMF8od0vukrvr0tg4qY6NSrItx" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="header-section-number">1</span> Introduction</a></li>
  <li><a href="#methods" id="toc-methods" class="nav-link" data-scroll-target="#methods"><span class="header-section-number">2</span> Methods</a></li>
  <li><a href="#results" id="toc-results" class="nav-link" data-scroll-target="#results"><span class="header-section-number">3</span> Results</a>
  <ul class="collapse">
  <li><a href="#subjects-overview" id="toc-subjects-overview" class="nav-link" data-scroll-target="#subjects-overview"><span class="header-section-number">3.1</span> Subjects Overview</a></li>
  <li><a href="#regression-analysis" id="toc-regression-analysis" class="nav-link" data-scroll-target="#regression-analysis"><span class="header-section-number">3.2</span> Regression Analysis</a></li>
  <li><a href="#parental-education-analysis" id="toc-parental-education-analysis" class="nav-link" data-scroll-target="#parental-education-analysis"><span class="header-section-number">3.3</span> Parental Education Analysis</a></li>
  <li><a href="#test-preparation-course-effectiveness" id="toc-test-preparation-course-effectiveness" class="nav-link" data-scroll-target="#test-preparation-course-effectiveness"><span class="header-section-number">3.4</span> Test Preparation Course Effectiveness</a></li>
  </ul></li>
  <li><a href="#discussion" id="toc-discussion" class="nav-link" data-scroll-target="#discussion"><span class="header-section-number">4</span> Discussion</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Correlation of Student Test Performance and External Factors</h1>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Ben Akyrueklier <a href="mailto:ben.akyureklier@gwu.edu" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            George Washington University
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 1, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p>Data Source: <a href="https://www.kaggle.com/datasets/sadiajavedd/students-academic-performance-dataset/data">Kaggle.com</a></p>
<section id="introduction" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="introduction"><span class="header-section-number">1</span> Introduction</h2>
<p>Today we will be looking at a dataset consisting of student test results and other tracked information (gender, race, test preparation, ect). Through exploratory data analysis, I have created a range of visualizations to help us better understand the trends present in the dataset. Our goal will be to search for any factors that are correlated with student test performance in some way, and hopefully we can learn more about school performance through this analysis of the patterns found.</p>
<p><strong>Hypotheses:</strong> <br>Hypothesis 1: Test scores are positively correlated with parental education (students whose parents have completed more schooling should perform better). <br>Hypothesis 2: Students who did not complete a test preparation course perform worse on average than those who did. <br>Hypothesis 3: The exam subject is not correlated with test performance.</p>
<p>Lets start by importing the necessary packages and getting a table view of our dataframe so we can see what we’ll be working with.</p>
<div id="24bb52e3-7813-494c-8760-46bb3bdf5e25" class="cell" data-execution_count="79">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> train_test_split</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> r2_score, mean_squared_error, accuracy_score</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> statsmodels.api <span class="im">as</span> sm</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># import altair as alt</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co"># import plotly.express as px</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co"># import plotly.io as pio</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="co"># pio.renderers.default='plotly_mimetype+notebook_connected'</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="co"># from sklearn.utils import resample</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co"># from sklearn.feature_extraction.text import TfidfVectorizer</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co"># from sklearn.pipeline import make_pipeline</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="co"># from sklearn.ensemble import RandomForestClassifier</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="co"># from sklearn.metrics import ConfusionMatrixDisplay</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="co"># from wordcloud import WordCloud</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> warnings</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>warnings.filterwarnings(<span class="st">'ignore'</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</section>
<section id="methods" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="methods"><span class="header-section-number">2</span> Methods</h2>
<div id="025b7727-63f2-4f5e-8c69-cceaeac40fd2" class="cell" data-execution_count="80">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>dta<span class="op">=</span>pd.read_csv(<span class="st">"students.csv"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>dta[<span class="st">"average score"</span>]<span class="op">=</span><span class="bu">round</span>((dta[<span class="st">"math score"</span>] <span class="op">+</span> dta[<span class="st">"reading score"</span>] <span class="op">+</span> dta[<span class="st">"writing score"</span>])<span class="op">/</span><span class="dv">3</span>, <span class="dv">2</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>dta</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="80">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">gender</th>
<th data-quarto-table-cell-role="th">race/ethnicity</th>
<th data-quarto-table-cell-role="th">parental level of education</th>
<th data-quarto-table-cell-role="th">lunch</th>
<th data-quarto-table-cell-role="th">test preparation course</th>
<th data-quarto-table-cell-role="th">math score</th>
<th data-quarto-table-cell-role="th">reading score</th>
<th data-quarto-table-cell-role="th">writing score</th>
<th data-quarto-table-cell-role="th">average score</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">0</th>
<td>female</td>
<td>group B</td>
<td>bachelor's degree</td>
<td>standard</td>
<td>none</td>
<td>72</td>
<td>72</td>
<td>74</td>
<td>72.67</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">1</th>
<td>female</td>
<td>group C</td>
<td>some college</td>
<td>standard</td>
<td>completed</td>
<td>69</td>
<td>90</td>
<td>88</td>
<td>82.33</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">2</th>
<td>female</td>
<td>group B</td>
<td>master's degree</td>
<td>standard</td>
<td>none</td>
<td>90</td>
<td>95</td>
<td>93</td>
<td>92.67</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">3</th>
<td>male</td>
<td>group A</td>
<td>associate's degree</td>
<td>free/reduced</td>
<td>none</td>
<td>47</td>
<td>57</td>
<td>44</td>
<td>49.33</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">4</th>
<td>male</td>
<td>group C</td>
<td>some college</td>
<td>standard</td>
<td>none</td>
<td>76</td>
<td>78</td>
<td>75</td>
<td>76.33</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">...</th>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">995</th>
<td>female</td>
<td>group E</td>
<td>master's degree</td>
<td>standard</td>
<td>completed</td>
<td>88</td>
<td>99</td>
<td>95</td>
<td>94.00</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">996</th>
<td>male</td>
<td>group C</td>
<td>high school</td>
<td>free/reduced</td>
<td>none</td>
<td>62</td>
<td>55</td>
<td>55</td>
<td>57.33</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">997</th>
<td>female</td>
<td>group C</td>
<td>high school</td>
<td>free/reduced</td>
<td>completed</td>
<td>59</td>
<td>71</td>
<td>65</td>
<td>65.00</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">998</th>
<td>female</td>
<td>group D</td>
<td>some college</td>
<td>standard</td>
<td>completed</td>
<td>68</td>
<td>78</td>
<td>77</td>
<td>74.33</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">999</th>
<td>female</td>
<td>group D</td>
<td>some college</td>
<td>free/reduced</td>
<td>none</td>
<td>77</td>
<td>86</td>
<td>86</td>
<td>83.00</td>
</tr>
</tbody>
</table>

<p>1000 rows × 9 columns</p>
</div>
</div>
</div>
<p>The dataset contains 8 columns plus an average test score metric that I appended to the dataframe. Additionally, there are 1000 observations recorded so we will be analyzing information on 1000 students.</p>
<div id="54631d78-1990-419b-9b7b-f218be05b818" class="cell" data-execution_count="81">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">#print(dta['lunch'].unique(), dta['race/ethnicity'].unique(), dta['test preparation course'].unique())</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>educnum<span class="op">=</span>{<span class="st">'some high school'</span>: <span class="dv">0</span>, <span class="st">'high school'</span>: <span class="dv">1</span>, <span class="st">'some college'</span>: <span class="dv">2</span>, <span class="st">"associate's degree"</span>: <span class="dv">3</span>, <span class="st">"bachelor's degree"</span>: <span class="dv">4</span>, <span class="st">"master's degree"</span>: <span class="dv">5</span>}</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>lunchnum<span class="op">=</span>{<span class="st">'free/reduced'</span>: <span class="dv">0</span>, <span class="st">'standard'</span>: <span class="dv">1</span>}</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>testnum<span class="op">=</span>{<span class="st">'none'</span>: <span class="dv">0</span>, <span class="st">'completed'</span>: <span class="dv">1</span>}</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>gendernum<span class="op">=</span>{<span class="st">'male'</span>: <span class="dv">0</span>, <span class="st">'female'</span>: <span class="dv">1</span>}</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>dtareg<span class="op">=</span>dta.copy()</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>dtareg[<span class="st">'educ_num'</span>]<span class="op">=</span>dtareg[<span class="st">'parental level of education'</span>].<span class="bu">map</span>(educnum)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>dtareg[<span class="st">'lunch_num'</span>]<span class="op">=</span>dtareg[<span class="st">'lunch'</span>].<span class="bu">map</span>(lunchnum)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>dtareg[<span class="st">'testprep_num'</span>]<span class="op">=</span>dtareg[<span class="st">'test preparation course'</span>].<span class="bu">map</span>(testnum)</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>dtareg[<span class="st">'gender_num'</span>]<span class="op">=</span>dtareg[<span class="st">'gender'</span>].<span class="bu">map</span>(gendernum)</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>dtareg.head()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="81">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">gender</th>
<th data-quarto-table-cell-role="th">race/ethnicity</th>
<th data-quarto-table-cell-role="th">parental level of education</th>
<th data-quarto-table-cell-role="th">lunch</th>
<th data-quarto-table-cell-role="th">test preparation course</th>
<th data-quarto-table-cell-role="th">math score</th>
<th data-quarto-table-cell-role="th">reading score</th>
<th data-quarto-table-cell-role="th">writing score</th>
<th data-quarto-table-cell-role="th">average score</th>
<th data-quarto-table-cell-role="th">educ_num</th>
<th data-quarto-table-cell-role="th">lunch_num</th>
<th data-quarto-table-cell-role="th">testprep_num</th>
<th data-quarto-table-cell-role="th">gender_num</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">0</th>
<td>female</td>
<td>group B</td>
<td>bachelor's degree</td>
<td>standard</td>
<td>none</td>
<td>72</td>
<td>72</td>
<td>74</td>
<td>72.67</td>
<td>4</td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">1</th>
<td>female</td>
<td>group C</td>
<td>some college</td>
<td>standard</td>
<td>completed</td>
<td>69</td>
<td>90</td>
<td>88</td>
<td>82.33</td>
<td>2</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">2</th>
<td>female</td>
<td>group B</td>
<td>master's degree</td>
<td>standard</td>
<td>none</td>
<td>90</td>
<td>95</td>
<td>93</td>
<td>92.67</td>
<td>5</td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">3</th>
<td>male</td>
<td>group A</td>
<td>associate's degree</td>
<td>free/reduced</td>
<td>none</td>
<td>47</td>
<td>57</td>
<td>44</td>
<td>49.33</td>
<td>3</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">4</th>
<td>male</td>
<td>group C</td>
<td>some college</td>
<td>standard</td>
<td>none</td>
<td>76</td>
<td>78</td>
<td>75</td>
<td>76.33</td>
<td>2</td>
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Here we are doing encoding the columns with non-numerical classes to instead be represented by a integer for their class. This will allow us to do regression analysis on the dataset as you cannot use string values to train regression models.</p>
</section>
<section id="results" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="results"><span class="header-section-number">3</span> Results</h2>
<section id="subjects-overview" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="subjects-overview"><span class="header-section-number">3.1</span> Subjects Overview</h3>
<div id="8b01e134-4c36-4e44-92f9-db10540cd915" class="cell" data-execution_count="82">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>new <span class="op">=</span> melted.groupby(<span class="st">'Subject'</span>)[<span class="st">'Score'</span>].mean()</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>new <span class="op">=</span> new.reset_index()</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>new <span class="op">=</span> new.sort_values(<span class="st">"Score"</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> new[<span class="st">"Subject"</span>]</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> new[<span class="st">"Score"</span>]</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">6</span>, <span class="dv">5</span>))</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>plt.bar(x, y)</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>plt.ylim(<span class="dv">63</span>, <span class="dv">72</span>)</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Average Test Score by Subject"</span>)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Average Score</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"</span><span class="ch">\n</span><span class="st">Subject"</span>)</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="final_files/figure-html/cell-5-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Here we see that students performed best on reading tests with an average score around 69%. Writing scores followed close behind with the average score being about 68%. Lastly, the math scores were by far the lowest with the average score being 66%. To figure out whether or not this is actually a difference worth noting, we need to look at other factors that may give us more information.</p>
</section>
<section id="regression-analysis" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="regression-analysis"><span class="header-section-number">3.2</span> Regression Analysis</h3>
<div id="581c5fff-20a3-416b-af33-cc0f9311f1cb" class="cell" data-execution_count="85">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> dtareg[[<span class="st">"educ_num"</span>, <span class="st">"lunch_num"</span>, <span class="st">"testprep_num"</span>]]</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> dtareg[<span class="st">"average score"</span>]</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> sm.add_constant(X)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(X, y, test_size<span class="op">=</span><span class="fl">0.15</span>, random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> sm.OLS(y_train, X_train).fit()</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>y_pred <span class="op">=</span> model.predict(X_test)</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>rsq <span class="op">=</span> r2_score(y_test, y_pred)</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>err <span class="op">=</span> mean_squared_error(y_test, y_pred)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(model.summary())</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Accuracy:"</span>, acc)</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"R-squared:"</span>, rsq)</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Mean Squared Error (MSE):"</span>, err)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>                            OLS Regression Results                            
==============================================================================
Dep. Variable:          average score   R-squared:                       0.201
Model:                            OLS   Adj. R-squared:                  0.198
Method:                 Least Squares   F-statistic:                     70.97
Date:                Mon, 15 Dec 2025   Prob (F-statistic):           6.08e-41
Time:                        20:01:53   Log-Likelihood:                -3358.0
No. Observations:                 850   AIC:                             6724.
Df Residuals:                     846   BIC:                             6743.
Df Model:                           3                                         
Covariance Type:            nonrobust                                         
================================================================================
                   coef    std err          t      P&gt;|t|      [0.025      0.975]
--------------------------------------------------------------------------------
const           55.5227      1.016     54.636      0.000      53.528      57.517
educ_num         1.8900      0.297      6.366      0.000       1.307       2.473
lunch_num        9.1349      0.907     10.075      0.000       7.355      10.914
testprep_num     7.7682      0.904      8.595      0.000       5.994       9.542
==============================================================================
Omnibus:                        9.461   Durbin-Watson:                   2.103
Prob(Omnibus):                  0.009   Jarque-Bera (JB):                7.447
Skew:                          -0.135   Prob(JB):                       0.0241
Kurtosis:                       2.630   Cond. No.                         8.06
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.

Accuracy: 0.1518454296345434
R-squared: 0.15513477731684888
Mean Squared Error (MSE): 190.30898521195135</code></pre>
</div>
</div>
<p>This linear regression model is trained to predict the average test score of a student by looking at their parent’s education, whether or not their lunch is paid for by government assistance, and if they had taken a test preparation course or not. By looking at our model’s performance metrics, we see that the accuracy and R2 is quite low, which suggests our model is not able to predict the student’s scores with any of the provided factors. An R2 of 0.15 means that 15% of the variation in average scores is explained by these factors, and this makes the results fairly useless. It is worth it to note that the p-values were very low for all the features, which means that they are not incorrectly being used to make predictions, but rather that there is too much variance to be captured with just these 3 predictors.</p>
<div id="a1307e0b-2c22-4e5d-bda4-4b0c8fa95f5c" class="cell" data-execution_count="233">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">6</span>,<span class="dv">6</span>))</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>plt.scatter(y, y_pred, alpha<span class="op">=</span><span class="fl">0.6</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>plt.plot([y.<span class="bu">min</span>(), y.<span class="bu">max</span>()], [y.<span class="bu">min</span>(), y.<span class="bu">max</span>()], <span class="st">'r--'</span>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Actual Average Score"</span>)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Predicted Average Score"</span>)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Predicted vs Actual Average Test Scores"</span>)</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="final_files/figure-html/cell-7-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Looking at a graph of the model’s predicted scores versus the actual test scores, you can notice that the predictions are actually following the same trends in the dataset, which suggests the predictors are not completely uncorrelated with the average score of students. Moreso, the model is equally overshooting and underpredicting the average scores so there must be a lot of variance unexplained by the three chosen features. This confirms our suspicions from the metrics above, so we will have to find another way to explore the dataset for patterns. Before we try something new, lets first see why are coefficients differ in the OLS model.</p>
<div id="b0c8e54c-8715-462f-87e4-a2022b0e4a1f" class="cell" data-execution_count="108">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>coeffs <span class="op">=</span> pd.DataFrame({<span class="st">"feature"</span>: [<span class="st">"educ_num"</span>, <span class="st">"lunch_num"</span>, <span class="st">"testprep_num"</span>, ], <span class="st">"coef"</span>: model.params[<span class="dv">1</span>:]})</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>coeffs <span class="op">=</span> coeffs.sort_values(by<span class="op">=</span><span class="st">'coef'</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">6</span>,<span class="dv">4</span>))</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>plt.barh(coeffs[<span class="st">"feature"</span>], coeffs[<span class="st">"coef"</span>])</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Effect on Predicted Score"</span>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Features</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Linear Regression Model Coefficients"</span>)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="final_files/figure-html/cell-8-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>It makes sense that education would have the lowest coefficient since its values range from 0-4. The other 2 features are all boolean variables, so we can easily interpret the results as the coefficients are amount of impact on the final prediction if the student has a value of 1 for that feature. So if a student is not on any subsidized lunch program and had taken the test prep course, then we would expect their average test score to be about 16 points higher than someone who is recieving free lunches and did not prepare for the tests.</p>
</section>
<section id="parental-education-analysis" class="level3" data-number="3.3">
<h3 data-number="3.3" class="anchored" data-anchor-id="parental-education-analysis"><span class="header-section-number">3.3</span> Parental Education Analysis</h3>
<div id="c0005a03-75a9-4756-908b-75e29a11cb29" class="cell" data-execution_count="105">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>educ <span class="op">=</span> melted.groupby(<span class="st">'parental level of education'</span>)[<span class="st">'average score'</span>].mean()</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>educ <span class="op">=</span> educ.reset_index()</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>educ <span class="op">=</span> educ.sort_values(<span class="st">"average score"</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> educ[<span class="st">"parental level of education"</span>]</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> educ[<span class="st">"average score"</span>]</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>plt.bar(x, y)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Average Test Scores by Parental Education Level"</span>)</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Average Scores</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"</span><span class="ch">\n</span><span class="st">Parental Level of Education"</span>)</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>plt.ylim(<span class="dv">50</span>, <span class="dv">85</span>)</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="final_files/figure-html/cell-9-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>While these results almost look exactly how we would expect, it is important to note that the students in this dataset performed slightly worse if their parents completed all of high school versus students whos parents only completed some of high school. This could be a result of outliers in the dataset skewing aggregates taken from a small sample size, but I do think it is possible that this is an actual trend that could be rediscovered in a much larger dataset. Parents who dropped out of high school may have done so to persue a high paying job, alternatively it could be because people with no high school degree are more likely to be on government assistance or recieve some other sort of benefit that the income bracket above them does not.</p>
<p>To learn more about the validatiy of these results, lets next look at a more detailed breakdown of the average scores grouped by parental education levels. For this, we will look a box and violin plot to see if there is anything abnormal that could be causing our data to not align with our expectations.</p>
<div id="a4d14d6a-1557-44d6-b93f-0f65d9e3fe52" class="cell" data-execution_count="106">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">11</span>, <span class="dv">7</span>))</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>dtareg.boxplot(column<span class="op">=</span><span class="st">'average score'</span>, by<span class="op">=</span><span class="st">'educ_num'</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>plt.suptitle(<span class="st">''</span>)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Average Test Scores by Education Level'</span>)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Average Scores'</span>)</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Parental Education Level'</span>)</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(educnum)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 1100x700 with 0 Axes&gt;</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="final_files/figure-html/cell-10-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>{'some high school': 0, 'high school': 1, 'some college': 2, "associate's degree": 3, "bachelor's degree": 4, "master's degree": 5}</code></pre>
</div>
</div>
<p>Here we see that the first two groups, those who only completed some high school or high school, have more variance across average scores compared to the other categories. Also, there are distinctly 6 outliers in the first 3 groups, with the lowest being in the “some high school” class. With this information, we can confidently infer that students whose parents have completed less schooling are less likely to do well on their exams.</p>
<p>Now lets switch to see if the test preperation course had an affect on the students’ average scores.</p>
</section>
<section id="test-preparation-course-effectiveness" class="level3" data-number="3.4">
<h3 data-number="3.4" class="anchored" data-anchor-id="test-preparation-course-effectiveness"><span class="header-section-number">3.4</span> Test Preparation Course Effectiveness</h3>
<div id="a29583a3-06c6-4420-9b31-128225b298ec" class="cell" data-execution_count="121">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>plt.hist(dtareg[dtareg[<span class="st">'testprep_num'</span>]<span class="op">==</span><span class="dv">0</span>][<span class="st">'average score'</span>], bins<span class="op">=</span><span class="dv">25</span>, alpha<span class="op">=</span><span class="fl">0.6</span>, label<span class="op">=</span><span class="st">'No Prep Course'</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>plt.hist(dtareg[dtareg[<span class="st">'testprep_num'</span>]<span class="op">==</span><span class="dv">1</span>][<span class="st">'average score'</span>], bins<span class="op">=</span><span class="dv">25</span>, alpha<span class="op">=</span><span class="fl">0.7</span>, label<span class="op">=</span><span class="st">'Prep Course Completed'</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Average Score'</span>)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Number of Students</span><span class="ch">\n</span><span class="st">'</span>)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Average Score Distributions by Test Preparation Completion'</span>)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="final_files/figure-html/cell-11-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>It can be hard to compare the two groups here as there are much less students who completed the test prep as opposed to those who didn’t. However, if you look closely at the scores greater than 80%, you will notice that it is the only time where there are more students who did the test prep appear at a higher frequency than the students who didn’t. This means that the test preparation course definitely helps students with achieving a higher score on their exam. Moreover, there are barely any students at or below the 40% mark in the prepared group, so that also tells us that the prep course raises the floor for a “bad score” on an exam. In all, the students who did not complete the course were much more likely to get a score ranging anywhere from 85%-40%, while the students who did the test prep course were able to get higher scores more consistantly.</p>
</section>
</section>
<section id="discussion" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="discussion"><span class="header-section-number">4</span> Discussion</h2>
<p>These visualizations and analyses help paint a clear picture of the dataset and the underlying trends. Although there may not be much to go off of, there were still many interesting details to look at throughout the exploratory analysis process. Through the visualizations done for this project, it is safe to conclude that there is a link between test scores and the given factors (parental education, test preparation course, lunch subsidy, ect.). It can be hard to accurately predict a student’s test score as there are many factors that go into a student’s performance than just their parent’s education or whether or not they can afford lunch on their own, but clearly these metrics hint towards a general trend in students who are economically disadvantaged. Parental education, lunch subsidies, and test preparation courses are all factors of a familiy’s wealth and thus it makes sense why the students from less fortunate backgrounds performed worse on exams. Any national dataset would confirm this as the best school districts are those with the wealthiest residents, and unfortunately through the research conducted in this project, I can confirm that this is true to a certain degree.</p>
<p>However, the inconsistancy of the results underline another point. Students who are disadvantaged can still keep up, and even outperform their luckier counterparts. This makes sense as education is not as simple as the wealthy students pass and succeed, while the poorer students fail out. Of course, there will always be variance in how students perform no matter their background. That is why I hope to conduct research on this topic again someday, but with a much larger and descriptive dataset.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>
